@page "/session/{SessionId}"
@namespace Booth.Landing.Pages
@using System.Net.Http.Json
@inject HttpClient Http

<h3>Unesi e-mail</h3>
<input @bind="Email" placeholder="Email" />
<button @onclick="Submit">Pošalji</button>

@code {
    [Parameter] public string SessionId { get; set; }
    public string Email { get; set; }

    private async Task Submit()
    {
        if (string.IsNullOrWhiteSpace(Email))
            return;

        var response = await Http.PostAsJsonAsync($"https://localhost:5001/api/session/{SessionId}/email", Email);
        if (!response.IsSuccessStatusCode)
        {
            Console.WriteLine("Greška pri slanju emaila.");
        }
    }
}
