@page "/session/{SessionId}"
@namespace Booth.Landing.Pages
@using System.Net.Http.Json
@inject HttpClient Http

<h3>Unesi e-mail</h3>
<input @bind="Email" placeholder="Email" />
<button @onclick="Submit">Pošalji</button>

@code {
    [Parameter] public string SessionId { get; set; } = string.Empty;
    public string Email { get; set; } = string.Empty;

    private async Task Submit()
    {
        if (string.IsNullOrWhiteSpace(Email))
            return;

        var response = await Http.PostAsJsonAsync($"https://booth-api-d0el.onrender.com/api/session/{SessionId}/email", Email);
        if (!response.IsSuccessStatusCode)
        {
            Console.WriteLine("Greška pri slanju emaila.");
        }
    }
}
